{
  "parameters": {
    "resourceGroupName": "demo_resource_group",
    "clusterName": "demo_cluster",
    "subscriptionId": "SUBSCRIPTION_ID",
    "api-version": "2017-09-01-preview",
    "parameters": {
      "location": "southcentralus",
      "properties": {
        "vmSize": "STANDARD_NC6",
        "targetNumberOfVMs": 2,
        "vmPriority": "dedicated",
        "virtualMachineConfiguration": {
          "imageReference": {
            "publisher": "Canonical",
            "offer": "UbuntuServer",
            "sku": "16.04-LTS",
            "version": "latest"
          }
        },
        "nodeSetup": {
          "mountVolumes": {
            "azureFiles": [
              {
                "accountName": "ACCOUNT_NAME",
                "azureFileUrl": "https://ACCOUNT_NAME.file.core.windows.net/SHARE_NAME",
                "credentialsInfo": { "accountKey": "KEY VALUE" },
                "relativeMountPath": "myazfileshare",
                "fileMode": "0777",
                "directoryMode": "0777"
              }
            ]
          }
        },
        "userAccountSettings": {
          "adminUserName": "DemoUser",
          "adminUserPassword": "DemoPassword"
        }
      }
    }
  },

  "responses": {
    "202": {
      "headers": {
        "Location": "https://BATCHAI_ENDPOINT/subscriptions/SUBSCRIPTION_ID/resourceGroups/demo_resource_group/providers/Microsoft.BatchAI/clusters/demo_cluster/operationResults/OPERATION_RESULT_ID?api-version=2017-09-01-preview",
        "Retry-After": 15
      }
    }
  }
}

