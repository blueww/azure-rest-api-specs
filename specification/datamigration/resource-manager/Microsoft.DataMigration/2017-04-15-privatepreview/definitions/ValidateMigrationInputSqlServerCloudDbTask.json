{
  "swagger": "2.0",
  "info": {
    "title": "Azure Data Migration Service Resource Provider",
    "version": "2017-04-15-privatepreview"
  },
  "securityDefinitions": {
    "azure_auth": {
      "type": "oauth2",
      "authorizationUrl": "https://login.microsoftonline.com/common/oauth2/authorize",
      "flow": "implicit",
      "description": "Azure Active Directory OAuth2 Flow",
      "scopes": {
        "user_impersonation": "impersonate your user account"
      }
    }
  },
  "paths": {},
  "definitions": {
    "ValidateMigrationInputSqlServerCloudDbTaskInput": {
      "type": "object",
      "description": "Input for task that validates migration input for SQL to Cloud DB migrations",
      "properties": {
        "targetConnectionInfo": {
          "$ref": "./Common.json#/definitions/SqlConnectionInfo",
          "description": "Information for connecting to target"
        },
        "selectedDatabases": {
          "type": "array",
          "description": "Databases to migrate",
          "items": {
            "$ref": "./TasksCommon.json#/definitions/MigrateSqlServerSqlServerDatabaseInput"
          }
        },
        "backupShareUserName": {
          "type": "string",
          "description": "User name credential to connect to the backup share location"
        },
        "backupSharePassword": {
          "type": "string",
          "description": "Password credential used to connect to the backup share location. It must be RSA encrypted by the public key of the VM, then base64 encoded. It must never be the plaintext! Cryptography class contains helper methods to perform the encryption.\n"
        }
      },
      "required": [
        "targetConnectionInfo",
        "selectedDatabases",
        "backupShareUserName"
      ]
    },
    "ValidateMigrationInputSqlServerCloudDbTaskOutput": {
      "type": "object",
      "description": "Output for task that validates migration input for SQL to Cloud DB migrations",
      "allOf": [
        {
          "$ref": "./TasksCommon.json#/definitions/TaskOutput"
        }
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of database",
          "readOnly": true
        },
        "restoreDatabaseNameErrors": {
          "description": "Errors associated with the RestoreDatabaseName",
          "type": "array",
          "items": {
            "$ref": "./Common.json#/definitions/ReportableException"
          },
          "readOnly": true
        },
        "backupFolderErrors": {
          "description": "Errors associated with the BackupFolder path",
          "type": "array",
          "items": {
            "$ref": "./Common.json#/definitions/ReportableException"
          },
          "readOnly": true
        },
        "backupShareCredentialsErrors": {
          "description": "Errors associated with backup share user name and password credentials",
          "type": "array",
          "items": {
            "$ref": "./Common.json#/definitions/ReportableException"
          },
          "readOnly": true
        }
      }
    }
  }
}
